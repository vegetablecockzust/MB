<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport"
        content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>Hello APP</title>
    <link rel="stylesheet" type="text/css" href="./css/api.css" />
    <style type="text/css">
        html,
        body {
            height: 100%;
        }

        .wrap {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-flex-flow: column;
        }

        header {
            height: 44px;
            width: 100%;
            text-align: center;
            background-color: #81a9c3;
            color: #fff;
            line-height: 44px;
            font-size: 20px;
        }

        .flex-1 {
            -webkit-box-flex: 1;
            -webkit-flex: 1;
        }

        footer {
            height: 30px;
            width: 100%;
            background-color: #81a9c3;
            color: white;
            line-height: 30px;
            text-align: center;
        }
    </style>
</head>

<body class="wrap">
    <!-- <header>APICloud</header>
    <section class="flex-1">
    </section> -->

</body>
<script type="text/javascript" src="./script/api.js"></script>
<script type="text/javascript">
    apiready = function () {
        NVTabBar_open();
        api.openFrame({
            name: 'main',
            url: 'html/main.html',
            bounces: true,
            rect: { // 推荐使用Margin布局，用于适配屏幕的动态变化
                marginTop: 0, // main页面距离win顶部的高度
                marginBottom: 0, // main页面距离win底部的高度
                w: 'auto' // main页面的宽度 自适应屏幕宽度
            }
        });
    };
    function personalCenter_open(){
        var personalCenter = api.require('personalCenter');
        personalCenter.open({
            y:0,    // 类型：数字
                    // 描述：（可选项）个人中心视图上边距屏幕位置
                    // 默认值：0
                    
            h:220,    // 类型：数字
                    // 描述：（可选项）视图的高，不可小于220
                    // 默认值：220
            imgPath:"",
                    // 类型：字符串
                    // 描述：头像图片的路径（如果为网络路径,图片会被缓存到本地），支持http，https，widget，file，fs协议
            placeholderImg:"",
                    // 类型：字符串
                    // 描述：（可选项）头像占位图片的路径，支持仅widget，file，fs本地协议
            userName:"heihei",
                    // 类型：字符串
                    // 描述：（可选项）用户名
            userNameSize:13,
                    // 类型：数字类型
                    // 描述：（可选项）用户名字体大小
                    // 默认值：13
            userColor:"#FFFFFF",
                    // 类型：字符串
                    // 描述：（可选项）用户名和积分字体颜色
                    // 默认值：#FFFFFF
            subTitle:"小标题",
                    // 类型：字符串
                    // 描述：（可选项）用户名下边的小标题
            subTitleSize:"12",
                    // 类型：字符串
                    // 描述：（可选项）用户名下边的小标题字体大小
                    // 默认值：13
            subTitleColor:"#FFFFFF",
                    // 类型：字符串
                    // 描述：（可选项）用户名下边的小标题字体颜色
                    // 默认值：#FFFFFF
            showLeftBtn:true,
                    // 类型：布尔值
                    // 描述：（可选项）是否显示左上交修改按钮
                    // 默认值：true
            showRightBtn:true,
                    // 类型：布尔值
                    // 描述：（可选项）是否显示右上角设置按钮
                    // 默认值：true
            buttonTitle:{
                left:"修改",          //（可选项）字符串类型；左边按钮的标题文字；默认：‘修改’
                right:"设置"        //（可选项）字符串类型；右边按钮的标题文字；默认：'设置'
            },
                    // 类型：JSON 对象
                    // 描述：（可选项）顶部两边按钮的标题文字，当 showLeftBtn、showRightBtn 为 true 时本参数有效
                    // 默认：参考内部字段
            modButton:{
                bgImg:"",      //字符串类型；按钮背景图片，要求本地路径（widget://、fs://）
                lightImg:""     //（可选项）字符串类型；按钮点击效果图路径，要求本地路径（widget://、fs://）
            },
                    // 类型：JSON 对象
                    // 描述：（可选项）修改按钮参数
                    // 备注：若不传则不显示修改按钮
                    // 内部字段：

            btnArray:[{
                bgImg:"",                 //字符串类型；按钮背景图片，要求本地路径（widget://、fs://）
                selectedImg:"",             //（可选项）字符串类型；按钮选中后图片，要求本地路径（widget://、fs://）
                lightImg:"",                //（可选项）字符串类型；按钮点击图片，要求本地路径（widget://、fs://）
                title: "用户头像",                  //（可选项）字符串类型；按钮上的标题
                count:  "hei",                 //（可选项）字符串类型；按钮上的数据
                titleColor:"#AAAAAA"   ,           //（可选项）字符串类型；按钮上的标题颜色，支持 rgb、rgba、#；默认：#AAAAAA
                titleLightColor:"#A4D3EE"  ,       //（可选项）字符串类型；按钮选中标题的颜色，支持 rgb、rgba、#；默认：#A4D3EE
                countColor:    "#FFFFFF",          //（可选项）字符串类型；按钮上数字颜色，支持 rgb、rgba、#；默认：#FFFFFF
                countLightColor: "#A4D3EE" ,       //（可选项）字符串类型；按钮上数字选中颜色，支持 rgb、rgba、#；默认：#A4D3EE
            }],
                    // 类型：数组
                    // 默认值：默认按钮
                    // 描述：（可选项）下边按钮的参数信息
            clearBtn:false,
                    // 类型：布尔值
                    // 描述：（可选项）是否将个人中心下边按钮清除
                    // 默认值：false
            fixedOn:"",
                    // 类型：字符串类型
                    // 描述：（可选项）模块视图添加到指定 frame 的名字（只指 frame，传 window 无效）
                    // 默认：模块依附于当前 window
            fixed:true,
                    // 类型：布尔
                    // 描述：（可选项）模块是否随所属 window 或 frame 滚动
                    // 默认值：true（不随之滚动）
        },function(ret,err){
            // {
            //     click:          // 所点击的按钮的索引
            //                     // 如果存在修改按钮，则其index是按钮数组总下标加一
            //                     // 若存在左上角按钮，则其index是按钮数组总下标加二
            //                     // 若存在右上角按钮，则其inidex是按钮数组总下标加三
            // }
        })
    }
    function UIListContactsSelect_open(){
        if(window.UIListContactsSelect){
            console.log("UIListContactsSelect has already existed!")
            return 
        }
        var UIListContactsSelect = api.require('UIListContactsSelect');
        UIListContactsSelect.open({
            rect:{
                x: 0,   //（可选项）数字类型；模块左上角的 x 坐标（相对于所属的 Window 或 Frame）；默认：0
                y: 0,   //（可选项）数字类型；模块左上角的 y 坐标（相对于所属的 Window 或 Frame）；默认：0
                w: api.winWidth, //（可选项）数字类型；模块的宽度，支持设置'auto'；默认：所属的 Window 或 Frame 的宽度
                h: api.winHeight-50  //（可选项）数字类型；模块的高度，支持设置'auto'；默认：w * 2.0/3.0
            },
            specialGroupTitle:"密友",
            categarys:[
                {
                    path:'',  // 字符串；item 路径；支持 fs | widget 
                    text:'????'// 字符串；item 文本
                },{
                    path:'',  // 字符串；item 路径；支持 fs | widget 
                    text:'???'// 字符串；item 文本
                },{
                    path:'',  // 字符串；item 路径；支持 fs | widget 
                    text:'?????'// 字符串；item 文本
                }
            ],
            contacts:[
                {  
                    imgPath: '',                    //（可选项）字符串类型；列表项的配图路径，支持http://、https://、widget://、fs://等协议，网络图片会被缓存到本地 
                    imgTitle:'张涛',                 //（可选项）字符串类型；列表项配图位置可传入的文字；若imgTitle和imgPath都传则显示图片
                    imgBackgroundColor:'#fff',      //（可选项）字符串类型；列表项配图位置传入文字的背景颜色，支持 rgb、rgba、#；默认：'#fff'         
                    title: '艾雪瑞',                 //字符串类型；条目的标题，不传则不显示
                    subTitle: '创达集团',            //字符串类型；条目的子标题，不传则不显示
                    phonetic:'',                   //(可选项)字符串类型; title汉字拼音
                    rightBtns:[{   //rightBtns有值时，将会忽略下面的rightBtns参数
                    bgColor: '#388e8e',          //（可选项）字符串类型；按钮背景色，支持 rgb、rgba、#；默认：'#388e8e'
                    title: '',                   //（可选项）字符串类型；按钮标题，水平、垂直居中
                    titleSize:15                 //（可选项）字符串类型；按钮标题的大小，默认：15
                    }],
                    isInSpecialGroup:true,        // (可选项)布尔类型；是否进入特殊分组'
                    checkBoxSelected:true,        // 布尔类型；是否默认选中（当为单选(即singleSelect=true)时，注意所有数据项仅有一项为checkBoxSelected=true, 只有在选择模式下有效，即showListSelect({selected:true})
                }
            ],
            rightBtns:[//列表项向左滑动露出的按钮组
                {
                    bgColor: '#388e8e',   //（可选项）字符串类型；按钮背景色，支持 rgb、rgba、#；默认：'#388e8e'
                    title: '',            //（可选项）字符串类型；按钮标题，水平、垂直居中
                    titleSize:15          //（可选项）字符串类型；按钮标题的大小，默认：15
                }
            ],
            styles:{
                alphabetColor:'#000',                //(可选项)字符串类型；右侧字母索引的颜色，支持rgb、rgba、#；默认：'#000',
                alphabetFont:12 ,                    //(可选项)数字类型；右侧字母索引的字母大小；默认：12 **注意:iOS不支持此参数**
                leftAlphabetColor:'#000',            //(可选项)字符串类型；左侧字母索引的颜色，支持rgb、rgba、#；默认：'#000'
                leftAlphabetFont:12 ,                //(可选项)数字类型；左侧字母索引的字母大小；默认：12 **注意：该参数不能大于20，否则将显示不完全**
                sectionIndexBgColor:'rgba(0,0,0,0)', //(可选项)字符串类型；右侧索引的背景颜色，支持rgb、rgba、#；默认：'rgba(0,0,0,0)'
                sectionIndexTrackingBgColor:'rgba(0,0,0,0)', //(可选项)字符串类型；选中时，右侧索引的背景颜色，支持rgb、rgba、#；默认：'rgba(0,0,0,0)'
                alphabetBg:'"#e1e1e1',              //(可选项)字符串类型；横向字母索引的背景颜色，支持rgb、rgba、#；默认：'#e1e1e1'
                isLastLineHide:false,                 //(可选项)字符串类型；每一组最后一条线是否隐藏，默认：'false'
                isHideGroupHeader:false,             //(可选项)布尔类型；是否显示分组header；默认：false
                inputBar:{                            //(可选项) JSON对象；输入框配置 
                    imagePath:'widget://image/search.png', // 字符串；图片路径；支持 fs | widget
                    marginTop:10,                          // 数字类型；面板上（距离模块顶部）边距；默认：10
                    marginLeft:20,                         // 数字类型；面板左边距；默认：20
                    marginRight:20,                        // 数字类型；面板右边距；默认：20
                        height:44,                             //（可选项）数字类型；头部视图的高度；默认：44
                },
                categaryPanel:{                       // JSON对象；类别面板配置
                    bgColor:'#FFF',              // 字符串；面板背景色；默认：#FFF
                    marginLeft:20,                // 数字类型；面板左边距；默认：20
                    marginRight:20,               // 数字类型；面板右边距；默认：20
                    marginTop:10,                 // 数字类型；面板上（距离inputBar）边距；默认：10
                    icon:{                        // JSON对象；icon配置
                        size:40,              // 数字类型；icon大小；默认：40
                    },
                    text:{                        // JSON对象；文本设置；
                        marginTop:10,         // 数字类型；距离顶部的距离；默认：10
                        color:"#000",         // 字符串类型；文本的颜色；默认：#000
                        size:12,              // 数字类型；文本字体大小；默认：12
                    }
                },
                checkBoxBtn:{                        //(可选项)JSON对象；复选框样式，若不传则不显示
                    marginRight:10,                      //(可选项)数字类型；复选框的右边距，默认：10
                    size:30,                             //(可选项)数字类型；复选框的大小，默认：30
                    normalImg:'',                         //(可选项)字符串类型；未选中图标路径（本地路径，支持fs://、widget://)
                    selectedImg:''                       //(可选项)字符串类型；选中图片的路径（本地路径，支持fs://、widget://)
                },
                indexer:{                            //（可选项）设置索引条的上下边距（该参数仅支持android）
                    marginTop: 100,          //（可选项）数字类型；索引上边距；默认：0
                    marginBottom:100         //（可选项）数字类型；索引下边距；默认：0
                },
                    item: {                          //（可选项）JSON对象；列表项的样式
                        dividingLine:{                       //(可选项)JSON对象；分割线样式
                        leftMargin:10,              //(可选项)数字类型；分割线的宽度，默认：和文字的左边对齐
                        lineHeight:0.5,             //(可选项)数字类型；分割线的高度，默认：0.5
                        lineColor:'#e4e4e4',        //(可选项)字符串类型；分割线的颜色，默认：'#e4e4e4'
                    },
                        bgColor: '#AFEEEE',             //（可选项）字符串类型；列表项的背景色，支持 rgb、rgba、#；默认：'#AFEEEE'
                        activeBgColor: '#F5F5F5',       //（可选项）字符串类型；列表项按下时的背景色，支持 rgb、rgba、#；默认：'#F5F5F5'
                        height: 55,                     //（可选项）数字类型；列表项的高度；默认：55
                        imgMarginLeft:10,               //（可选项）数字类型；列表项的图片的左边距；默认：10
                        imgMarginRight:10,              //（可选项）数字类型；列表项的图片的右边距；默认：10
                        imgTitleSize:14,                // (可选项) 数字类型；列表项的图片位置传入的文字大小，默认14
                        imgTitleColor:'#f00',            //（可选项）字符串类型；列表项的的图片位置传入文字的颜色，支持 rgb、rgba、#；默认：'#f00'
                        imgWidth: 40,                   //（可选项）数字类型；列表项配图的宽度；默认：列表项的高度减去10px
                        imgHeight: 40,                  //（可选项）数字类型；列表项配图的高度；默认：列表项的高度减去10px
                        imgCorner: 20,                   //（可选项）数字类型；列表项配图的圆角大小；默认：20
                        titleMarginTop:5,                //（可选项）数字类型；列表项的标题的上边距；默认：5
                        titleSize: 12,                  //（可选项）数字类型；列表项标题文字大小；默认：12
                        titleColor: '#000',             //（可选项）字符串类型；列表项标题文字颜色，支持 rgb，rgba，#；默认：'#000000'
                        titleWidth: 100,               //（可选项）数字类型；列表项标题文字的宽度；默认：100
                        subTitleMarginBottom:5,          //（可选项）数字类型；列表项的子标题的下边距；默认：5
                        subTitleSize: 12,               //（可选项）数字类型；列表项子标题文字大小；默认：12
                        subTitleColor: '#000',          //（可选项）字符串类型：列表项子标题文字颜色，支持 rgb、rgba、#；默认：'#000000' 
                        subTitleWidth: 100,               //（可选项）数字类型；列表项子标题文字的宽度；默认：100
                }     
            }

        },function(){

        })
    }
    function NVTabBar_open() {
        var NVTabBar = api.require('NVTabBar');
        NVTabBar.open({
            styles:{
                bg: '#fff',         //（可选项）字符串类型；模块背景，支持 rgb、rgba、#、img；默认：#ffffff
                h: 50 ,             //（可选项）数字类型；模块的高度（含分割线）；默认：50
                dividingLine: {     //（可选项）JSON对象；模块顶部的分割线配置
                    width: 0.5,      //（可选项）数字类型；分割线粗细；默认：0.5
                    color: '#000'    //（可选项）字符串类型；分割线颜色；默认：#000
                },
                badge: {            //（可选项）JSON对象；徽章样式配置；若不传则去内部字段默认值
                    bgColor: '#ff0', //（可选项）字符串类型；徽章背景色，支持rgb、rgba、#；默认：#ff0
                    numColor: '#fff',//（可选项）字符串类型；徽章数字字体颜色，支持rgb、rgba、#；默认：#fff
                    size: 18.0,       //（可选项）数字类型；徽章半径大小；默认值：6.0
                    fontSize:10,     // (可选项) 数字类型;设置徽章字体大小;默认值: 10 ;注意:仅支持iOS。
                    centerX: 6.0,    //（可选项）数字类型；徽章中心点坐标（相对于所属item的背景面板坐标系）；默认值：icon图标的右上角
                    centerY: 6.0     //（可选项）数字类型；徽章中心点坐标（相对于所属item的背景面板坐标系）；默认值：icon图标的右上角
                }
            },
            items:[{
                w: api.winWidth/5.0,      //（可选项）数字类型；子项的宽度（识别点击事件的区域宽度）；默认：api.winWidth/items子项总数
                bg: {                     //（可选项）JSON对象；子项背景配置，若不传则取内部字段默认值
                    marginB: 0,            //（可选项）数字类型；子项背景距离模块底部的距离，设置大于0的数字可实现凸起效果；默认：0
                    image: 'rgba(0,0,0,0)',//（可选项）字符串类型；子项的背景，支持rgb、rgba、#、img（仅支持本地图片路径fs://、widget://）；默认：rgba(0,0,0,0)
                },
                iconRect: {               //（可选项）JSON对象；子项按钮图标的大小配置，位置居中显示；默认值见内部字段
                    w: 25.0,               //（可选项）数字类型；子项按钮图标的宽度；默认：25.0
                    h: 25.0,               //（可选项）数字类型；子项按钮图标的高度；默认：25.0
                },
                icon: {                   // JSON对象；子项按钮图标配置
                    normal: '',           // 字符串类型；子项按钮常态下的背景图片路径，要求本地路径（fs://、widget://）
                    highlight: '',        //（可选项）字符串类型；子项按钮高亮态下的背景图片路径，要求本地路径（fs://、widget://），若不传或传空则无按钮高亮效果
                    selected: ''          //（可选项）字符串类型；子项按钮按钮选中后的背景图片路径，要求本地路径（fs://、widget://），若不传或传空则无选中后效果
                },
                title: {                  //（可选项）JSON对象；子项标题配置，若不传则不显示
                text: '日历',              //（可选项）字符串类型；子项按钮下面的标题文字，若不传或传空则不显示
                size: 12.0,            //（可选项）数字类型；子项标题文字大小；默认：12.0  
                normal: '#696969',     //（可选项）字符串类型；子项标题文字常态颜色；默认：#696969
                selected: '#ff0',      //（可选项）字符串类型；子项标题文字选中后颜色；默认：#ff0
                marginB: 6.0,           //（可选项）数字类型；子项标题距离模块下边缘的距离；默认：6.0
                ttf:'Alkatip Basma Tom'//（可选项）字符串类型；默认值：当前系统字体；本参数在 iOS 平台上表示字体名称 （必须已在 config 文件内配置 ttf 文件(//docs.apicloud.com/Dev-Guide/app-config-manual#14-1)，并在 widget 包内包含该 ttf 文件）；本参数在 android 平台上表示 ttf 文件路径，要求本地路径（fs://、widget://）
                }
            },{
                w: api.winWidth/5.0,      
                bg: {                     
                    marginB: 0,            
                    image: 'rgba(0,0,0,0)',
                },
                iconRect: {               
                    w: 25.0,              
                    h: 25.0,              
                },
                icon: {                   
                    normal: '',           
                    highlight: '',       
                    selected: ''         
                },
                title: {                  
                    text: '场景',          
                    size: 12.0,           
                    normal: '#696969',    
                    selected: '#ff0',     
                    marginB: 6.0,           
                    ttf:'Alkatip Basma Tom'
                }
            },{
                w: api.winWidth/5.0,      
                bg: {                     
                    marginB: 10,            
                    image: 'rgba(255,255,0,1)',
                },
                iconRect: {             
                    w: 25.0,            
                    h: 25.0,            
                },
                icon: {                 
                    normal: '',         
                    highlight: '',
                    selected: ''       
                },
                title: {                  
                    text: '+',          
                    size: 12.0,           
                    normal: '#696969',    
                    selected: '#000',     
                    marginB: 6.0,           
                    ttf:'Alkatip Basma Tom'
                }
            },{
                w: api.winWidth/5.0,      
                bg: {                     
                    marginB: 0,            
                    image: 'rgba(0,0,0,0)',
                },
                iconRect: {               
                    w: 25.0,              
                    h: 25.0,              
                },
                icon: {                   
                    normal: '',          
                    highlight: '',       
                    selected: ''         
                },
                title: {                  
                    text: '联系人',          
                    size: 12.0,           
                    normal: '#696969',    
                    selected: '#ff0',     
                    marginB: 6.0,           
                    ttf:'Alkatip Basma Tom'
                }
            },{
                w: api.winWidth/5.0,      
                bg: {                     
                    marginB: 0,           
                    image: 'rgba(0,0,0,0)',
                },
                iconRect: {               
                    w: 25.0,              
                    h: 25.0,              
                },
                icon: {                   
                    normal: '',           
                    highlight: '',        
                    selected: ''          
                },
                title: {                  
                    text: '我的',          
                    size: 12.0,           
                    normal: '#696969',    
                    selected: '#ff0',     
                    marginB: 6.0,           
                    ttf:'Alkatip Basma Tom'
                }
            }],
            cursorInOptions:{
                width: 10, //游标的宽
                height:10, //游标的高
                color:'rgba(0,0,0,0)' //游标的颜色，支持图片
            },
            selectedIndex: 3, //默认值为选中状态的按钮的索引，若不传则默认无选中项
            enableDoubleClick: false //使能双击事件，默认：false
        },function (ret, err){
            //  ret = {
            //     eventType: 'show',      //字符串类型；交互事件类型，取值范围如下：
            //                             //show：打开模块并显示事件
            //                             //click：用户点击模块内子按钮事件
            //                             //doubleClick：用户双击模块内子按钮事件，只有enableDoubleClick为true且触发双击时回调
            //     index:0                 //数字类型；用户点击按钮的索引，仅当 eventType 为 click和doubleClick 时有值
            // }
            if(ret.index==3){
                UIListContactsSelect_open();
            }
            if(ret.index==4){
                alert("hah");
                personalCenter_open();
            }
        })
    }
</script>

</html>